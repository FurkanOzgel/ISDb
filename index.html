<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap Import -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
        rel="stylesheet">
        
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    <title>Popular – ISDb</title>
    <link rel = "icon" href = "img/icon.svg" type = "image/x-icon">

    

</head>
<body style="background-color: #000000;">

    <nav class="navbar navbar-expand-lg" style="background-color: #121212;">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="img/icon.svg" width="64">
            </a>
            <div class="collapse navbar-collapse" style="align-items: center;" id="navbarSupportedContent" >

                <!-- Nav Bar Pages Start -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item" >
                        <a class="nav-link active" style="font-weight:500;color:white" aria-current="page" href="index.html">Popular</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color:white" href="top-page.html">Top</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color:white"href="about-page.html">About</a>
                    </li>
                </ul>
                <!-- Nav Bar Pages End -->

                <!-- Search Bar Start -->
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
                <!-- Search Bar End -->

            </div>
        </div>
    </nav>
    <main>
        <article class="big-song-card" >
            <div class="big-song-card-video-container" onmouseover="myOverFunction()" onmouseout="myOutFunction()">
                <iframe class="big-song-card-iframe" src="https://www.youtube.com/embed/zU2_jPxz9q4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
                <div class="big-song-card-video-overview" >
                    <div class="overview-black-div">
                        <p class="overview-header">Ara - Zeynep Bastık </p>
                        <p class="overview-score"><i class="material-icons overview-score-icon" style="font-size: 32px;">star</i>6.5</p>   
                    </div>
                    <img class="overview-artist-img"
                        src="https://i.scdn.co/image/ab67616d0000b27393b5dbed900db2b66d8b8ad4">
                    
                </div>
            </div>
        </article>
        <aside class="side-popular-list">
            <ul id="side-list" >
            </ul>
        </aside>

    </main>

    <script>
        var styleElem = document.head.appendChild(document.createElement("style"));

        function myOverFunction() {
            document.getElementsByClassName('big-song-card-video-overview')[0].style.visibility = 'hidden';
            styleElem.innerHTML = ".big-song-card-video-container:before {visibility: hidden;}";

        }
        function myOutFunction() {
            document.getElementsByClassName('big-song-card-video-overview')[0].style.visibility = 'visible';
            styleElem.innerHTML = ".big-song-card-video-container:before {visibility: visible;}";
        }

        let list = document.getElementById("side-list");

        fetch('demo-data/response.json')
            .then((response) => response.json())
            .then((json) => {
                console.log(json)
                let list = document.getElementById("side-list");

                for(i = 0; i < 31; i++) {
                    if(json.is_popular[i]==1) {
                        let li = document.createElement("li");
                        li.innerText = json.name[i];
                        li.id = "popular-list-item"
                        li.innerHTML = `
                        <div class="side-li-container">
                            <div class="side-li-inner-container">
                                <img id="side-li-img" src="`+json.img_url[i]+`">
                                <div class="side-li-info-container">
                                    <p class="side-li-name-info">`+json.name[i]+`<br>
                                        <span style="font-size: 17px; ">&nbsp;&nbsp;&nbsp;-`+json.artist[i]+`</span></p>
                                    <p class="side-li-rate-info">
                                        <i id="side-li-star-icon" class="material-icons">star</i>`+json.isdb_rate[i]+`</p> 
                                </div>
                            </div>
                        </div>`;
                        
                        list.appendChild(li);
                    }
                }
            });

        </script>
</body>
</html>